# 1. BCC仕様書

## 1.1. 概要
このプログラムは、指定されたディレクトリ内のSVGファイルを処理し、フォントサイズに基づいてバックグラウンドカラーを追加するためのツールです。プログラムは、指定されたフォントサイズより大きいフォントに背景カラーを追加し、処理したファイルを新しいSVGファイルとして保存します。

※元々のコードと仕様書は.originalという拡張子で保存してあります。

## 1.2. 使用方法
プログラムはコマンドラインから実行できます。まず、以下のパッケージをインストールしてください。
```
pip install lxml numpy tqdm
```

以下のコマンドライン引数を指定してプログラムを実行します。

```
python background_color_changer.py --fontsize 19.5 --color "#0000FF" --dir_path_in dir_in
```

- `--fontsize`: フォントサイズの最小値を指定します。このサイズ以上のフォントが処理対象となります。

- `--color`: 背景カラーを16進数表記で指定します。このカラーがフォントの背景に追加されます。

- `--dir_path_in` (オプション): 処理対象のディレクトリパスを指定します。指定しない場合、カレントディレクトリがデフォルトとなります。

## 1.3. 処理の詳細
プログラムの処理は以下のステップに従います：

1. 指定されたディレクトリ内のSVGファイルを再帰的に探索します。
2. 各SVGファイルに対して、フォントサイズが指定されたフォントサイズより大きい場合、フォントの背景に背景カラーを追加します。
3. 背景カラーが追加されたSVGファイルは新しいSVGファイルとして保存されます。

## 1.4. 関数およびクラスの仕様

### 1.4.1. `check_svg_directory(directory, fontsize, color)`
指定されたディレクトリ内のSVGファイルを処理し、フォントサイズに基づいてバックグラウンドカラーを追加します。

#### 1.4.1.1. パラメータ
- `directory` (str): 処理対象のディレクトリパス。
- `fontsize` (float): フォントサイズの最小値。このサイズ以上のフォントが処理対象となります。
- `color` (str): 背景カラーの16進数表記。

#### 1.4.1.2. 戻り値
なし

### 1.4.2. `file_process(file_path_in, fontsize, color, dir_path_out)`
単一のSVGファイルを処理し、フォントサイズに基づいてバックグラウンドカラーを追加します。

#### 1.4.2.1. パラメータ
- `file_path_in` (str): 処理対象のSVGファイルパス。
- `fontsize` (float): フォントサイズの最小値。このサイズ以上のフォントが処理対象となります。
- `color` (str): 背景カラーの16進数表記。
- `dir_path_out` (str): 出力ディレクトリパス。

#### 1.4.2.2. 戻り値
なし

## 1.5. メイン関数
### 1.5.1. `main()`
コマンドライン引数を解析し、`check_svg_directory` 関数を呼び出して処理を開始します。

## 1.6. 使用例
以下は、プログラムを使用するための例です：

```
python プログラム名.py --fontsize 10 --color #FF0000 --dir_path_in /path/to/svg_files
```

このコマンドは、`/path/to/svg_files` ディレクトリ内のSVGファイルに対して、フォントサイズが10以上のフォントに赤い背景カラーを追加します。

## 1.7. 注意事項
- 処理されたSVGファイルは新しいファイルとして保存され、元のファイルは変更されません。
- フォントサイズが指定されたサイズより大きいフォントのみが処理対象となります。
- プログラムは指定されたフォントサイズ以上のフォントに対してのみ背景カラーを追加します。

